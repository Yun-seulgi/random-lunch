<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ëœë¤ ëŸ°ì¹˜ ğŸš— íŒ€ë©”ì´ì»¤ (3/4ì¸ ì „ìš©)</title>
  <style>
    :root{
      --bg:#f7f7fb; --card:#fff; --ink:#111; --sub:#6b7280; --line:#e8e9ef;
      --brand:#0f172a; --brand-ink:#fff;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Arial}
    .wrap{max-width:1120px;margin:auto;padding:16px}
    .toolbar{position:sticky;top:0;background:#ffffffcc;border-bottom:1px solid var(--line);backdrop-filter:blur(8px);z-index:10}
    .toolbar .bar{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:10px 16px}
    .h1{display:flex;align-items:center;gap:8px;font-weight:800}
    .btn{appearance:none;border:1px solid var(--line);background:#fff;border-radius:12px;padding:10px 12px;cursor:pointer}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .btn.primary{background:var(--brand);color:var(--brand-ink)}
    .ctrls{display:flex;gap:8px;flex-wrap:wrap}

    .grid{background:#fff;border:1px solid var(--line);border-radius:16px;box-shadow:0 6px 14px rgba(15,23,42,.06);padding:16px}
    .grid-cards{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:16px}
    @media(min-width:640px){.grid-cards{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(min-width:1024px){.grid-cards{grid-template-columns:repeat(3,minmax(0,1fr))}}

    .panel{display:grid;grid-template-columns:1.5fr .9fr;gap:16px;margin:16px 0}
    @media(max-width:860px){.panel{grid-template-columns:1fr}}
    textarea{width:100%;height:180px;border:1px solid var(--line);border-radius:12px;padding:12px;resize:vertical;font:14px/1.45 inherit}
    .hint{color:var(--sub);font-size:12px;margin-top:6px}
    .box{border:1px solid var(--line);border-radius:14px;background:#fff;padding:14px}
    .field{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:8px 0}
    .field input{border:1px solid var(--line);border-radius:10px;padding:6px 10px;width:200px}
    .muted{color:var(--sub)}

    .titlebar{display:flex;align-items:flex-end;justify-content:space-between;padding:8px 4px}
    .titlebar h2{margin:0;font-weight:900}
    .subtitle{color:var(--sub)}

    .card{position:relative;border:1px solid var(--line);border-radius:16px;background:var(--card);box-shadow:0 4px 12px rgba(0,0,0,.05)}
    .card-head{display:flex;align-items:center;justify-content:space-between;padding:10px 12px}
    .car-wrap{padding:12px}
    .tiny{font-size:12px;color:var(--sub)}
    .foot{display:flex;align-items:center;justify-content:space-between;padding:0 12px 12px 12px;color:var(--sub);font-size:12px}

    /* ì¢Œì„ ë±ƒì§€ */
    .seat{position:absolute;transform:translate(-50%,-50%);}
    .badge{
      position:relative;display:inline-block;background:#fff;border:1px solid var(--line);
      border-radius:10px;padding:4px 8px;font-weight:700;white-space:nowrap;
      box-shadow:0 1px 2px rgba(0,0,0,.06);
      max-width:120px; overflow:hidden; text-overflow:ellipsis; /* í™”ë©´ì—ì„œëŠ” ë§ì¤„ì„ */
    }
    .badge.driver{background:#fff7d6;border-color:#facc15}
    .badge .crown{position:relative;margin-right:4px;}

    .error{display:flex;align-items:flex-start;gap:8px;color:#b91c1c;background:#fee2e2;border:1px solid #fecaca;border-radius:12px;padding:10px 12px;margin-top:8px}
  </style>
</head>
<body>
  <div class="toolbar">
    <div class="bar wrap">
      <div class="h1">ğŸš— ì•„ì´ìƒµì¼€ì–´ ëœë¤ ëŸ°ì¹˜ íŒ€ë©”ì´ì»¤ <span class="muted" id="ver"></span></div>
      <div class="ctrls">
        <button class="btn primary" id="btnMake">ëœë¤ ì¡°í¸ì„±</button>
        <button class="btn" id="btnSave" disabled>PNGë¡œ ì €ì¥</button>
        <button class="btn" id="btnCopy" disabled>ëª…ë‹¨ ë³µì‚¬</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="panel">
      <div>
        <label class="muted">ì´ ì¸ì› ì´ë¦„ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
        <textarea id="inputNames" placeholder="ì˜ˆ) ê¹€ë¯¼ìˆ˜, ì´ì§€ì€, ë°•ì¤€í˜¸"></textarea>
        <div class="hint">í˜„ì¬ ì¸ì›: <b id="count">0</b>ëª…</div>
      </div>
      <div>
        <div class="box">
          <div class="field">
            <label class="muted">ì œëª©</label>
            <input id="title" placeholder="ì˜ˆ: 8ì›” ëœë¤ ëŸ°ì¹˜" />
          </div>
          <div class="hint">â€» 5ì¸ ì¡°ëŠ” ë§Œë“¤ì§€ ì•Šì•„ìš”. ì¸ì›ì€ ì˜¤ì§ 3ëª…/4ëª…ìœ¼ë¡œë§Œ ë‚˜ë‰©ë‹ˆë‹¤.</div>
          <div id="error" class="error" style="display:none">âš ï¸ ì¸ì›ì„ 3ëª…/4ëª…ìœ¼ë¡œë§Œ ë‚˜ëˆŒ ìˆ˜ ì—†ì–´ìš”. (ì˜ˆ: 1, 2, 5ëª…ì€ ë¶ˆê°€)</div>
        </div>
      </div>
    </div>

    <div class="titlebar">
      <div>
        <h2 id="outTitle">ëœë¤ ëŸ°ì¹˜</h2>
        <div class="subtitle" id="meta"></div>
      </div>
    </div>

    <div class="grid" id="captureArea">
      <div class="grid-cards" id="cards"></div>
    </div>
  </div>

  <!-- html-to-image (CDN) for PNG export -->
  <script src="https://cdn.jsdelivr.net/npm/html-to-image@1.11.11/dist/html-to-image.min.js"></script>
  <script>
    // ===== Helpers =====
    const byId = id => document.getElementById(id);
    const $names   = byId('inputNames');
    const $count   = byId('count');
    const $btnMake = byId('btnMake');
    const $btnSave = byId('btnSave');
    const $btnCopy = byId('btnCopy');
    const $error   = byId('error');
    const $cards   = byId('cards');
    const $meta    = byId('meta');
    const $titleIn = byId('title');
    const $titleOut= byId('outTitle');
    const $capture = byId('captureArea');

    // ìƒ˜í”Œ(ì½¤ë§ˆ êµ¬ë¶„)
    const sampleNames = [
      'ê¹€ë¯¼ìˆ˜','ì´ì§€ì€','ë°•ì¤€í˜¸','ìµœì„œìœ¤','ì •í•˜ëŠ˜','ìœ¤ì„¸ì§„','ì˜¤ì§€í˜¸','ë¬¸ê°€ì˜','í•œì§€í›ˆ','ì„œìˆ˜í˜„',
      'ê¹€ë³´ë¼','ë°•ì§€ì„±','ìµœë¯¼ì¬','ì‹ ì†Œìœ¨','ì–‘ì§€í›ˆ','ê°•ìœ ì§„','ìœ ì†Œë¼','ì •ë¯¼í˜¸','ìµœë‹¤í˜œ','ì˜¤ë¯¼ê·œ','ë¥˜ì§€ì•ˆ','ìœ¤ë‹¤ì—°'
    ];
    $names.value = sampleNames.join(', ');

    // ì‰¼í‘œ ê¸°ì¤€ ë¶„í• (ì—”í„°/ì „ê°ì‰¼í‘œ/ì„¸ë¯¸ì½œë¡ ì€ ì‰¼í‘œë¡œ í†µì¼), ê³µë°± ë¬´ì‹œ, ì¤‘ë³µ í—ˆìš©, ë§ˆì§€ë§‰ ì‰¼í‘œ OK
    function splitNames(text){
      const normalized = text
        .replace(/\r?\n+/g, ',')     // ì¤„ë°”ê¿ˆ -> ì‰¼í‘œ
        .replace(/[ï¼Œã€;]+/g, ',');  // ì „ê° ì‰¼í‘œ/ì„¸ë¯¸ì½œë¡  -> ì‰¼í‘œ
      return normalized
        .split(',')
        .map(s => s.trim())
        .filter(s => s.length > 0);
    }
    function shuffle(arr){
      const a=[...arr];
      for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
      return a;
    }

    // --- íŒ€ëª… ì‚¬ì „ (ë³´í¸ì  & ë‹¤ì–‘) ---
    const adjectives = [
      'ë©‹ì§„','ê·€ì—¬ìš´','ìš©ê°í•œ','ë¹ ë¥¸','ì°¨ë¶„í•œ','ë‹¹ë‹¹í•œ','ì˜ë¦¬í•œ','ìƒí¼í•œ','ë“ ë“ í•œ','ìœ ì¾Œí•œ',
      'ì¬ì¹˜ìˆëŠ”','ì •ì§í•œ','ì—´ì •ì ì¸','ìƒëƒ¥í•œ','í™œê¸°ì°¬','í‰í™”ë¡œìš´','í–‰ìš´ì˜','ë¹›ë‚˜ëŠ”','ê¹”ë”í•œ','íŠ¼íŠ¼í•œ',
      'ê°•ë ¥í•œ','ë¶€ë“œëŸ¬ìš´','ë”°ëœ»í•œ','ì‹ ì†í•œ','ììœ ë¡œìš´','ì‹ ë¹„ë¡œìš´','ì„¼ìŠ¤ìˆëŠ”','ì‚°ëœ»í•œ','í‘¸ë¥¸',
      'ì€ì€í•œ','ë‹¨ë‹¨í•œ','ê¸°ìš´ì°¬','í™œë°œí•œ','ìˆœìˆ˜í•œ','ëŒ€ë‹´í•œ','ìš°ì•„í•œ','í¬ë¦¼ë¹›','ìƒˆë²½ì˜','í™©ê¸ˆë¹›'
    ];
    const nouns = [
      // ë™ë¬¼
      'í˜¸ë‘ì´','ì‚¬ì','ì—¬ìš°','ëŠ‘ëŒ€','íŒë‹¤','í† ë¼','ë‹¤ëŒì¥','ê³°','ê³ ì–‘ì´','ê°•ì•„ì§€','í­ê·„','ìˆ˜ë‹¬','ì½”ë¼ë¦¬','ê¸°ë¦°','ëŒê³ ë˜','ê³ ë˜','ìƒì–´','ë¶€ì—‰ì´','ë…ìˆ˜ë¦¬','ì°¸ìƒˆ','ì˜¬ë¹¼ë¯¸','ë‘ë£¨ë¯¸','ê±°ë¶ì´','í•˜ë§ˆ','í‘œë²”','ì¹˜íƒ€',
      // ìŒì‹/ê³¼ì¼
      'í”¼ì','ë²„ê±°','ì¹˜í‚¨','ê¹€ë°¥','ë–¡ë³¶ì´','ë¼ë©´','ì´ˆë°¥','ë§Œë‘','ìš°ë™','íŒŒìŠ¤íƒ€','íƒ€ì½”','ìƒŒë“œìœ„ì¹˜','ë„ë„›','ì¿ í‚¤','ë§ˆì¹´ë¡±','ì¼€ì´í¬','ë°”ë‚˜ë‚˜','ë”¸ê¸°','ì‚¬ê³¼','ë³µìˆ­ì•„',
      // ìºë¦­í„°/ì§ì—…(ì¼ë°˜ëª…)
      'ë§ˆë²•ì‚¬','ê¸°ì‚¬','ë‹Œì','í•´ì ','ë„ê¹¨ë¹„','ìš”ì •','ë¡œë´‡','ìš°ì£¼ì¸','íƒí—˜ê°€','ìš©ì‚¬','ë“œë˜ê³¤','íˆì–´ë¡œ','ì—°êµ¬ì›','ìš”ë¦¬ì‚¬','ì •ì°°ë³‘','ì„ ì¥','ë°œëª…ê°€'
    ];
    function teamName(){
      const a = adjectives[Math.floor(Math.random()*adjectives.length)];
      const n = nouns[Math.floor(Math.random()*nouns.length)];
      return a + ' ' + n;
    }

    // n = 3a + 4b (b ìµœëŒ€í™”) â€” 3/4ì¸ ì „ìš© ë¶„í• 
    function partition34(n){
      if(n===1||n===2||n===5) return null;
      for(let b=Math.floor(n/4); b>=0; b--){
        const rem=n-4*b;
        if(rem%3===0) return {a3:rem/3,b4:b};
      }
      return null;
    }
    function makeGroups34(list){
      const plan = partition34(list.length); if(!plan) return null;
      const s = shuffle(list); const groups=[]; let idx=0;
      for(let i=0;i<plan.b4;i++){ groups.push(s.slice(idx,idx+4)); idx+=4; }
      for(let i=0;i<plan.a3;i++){ groups.push(s.slice(idx,idx+3)); idx+=3; }
      return groups;
    }
    function pickLeaders(groups){
      return groups.map((g,i)=>{
        const leaderIdx=Math.floor(Math.random()*g.length);
        const leader=g[leaderIdx];
        const others=g.filter((_,k)=>k!==leaderIdx);
        return { teamName: teamName(), leader, members:[leader,...others] };
      });
    }

    /* ì¢Œì„ ì¢Œí‘œ(ì°¨ì°½ ì¤‘ì•™ ìª½ì— ìœ„ì¹˜) */
    const seatLayout = [
      {key:'driver', x:78,  y:65},   // ì•ì¢Œì„ ì™¼ìª½(ì¡°ì¥)
      {key:'front',  x:162, y:65},   // ì•ì¢Œì„ ì˜¤ë¥¸ìª½
      {key:'rearL',  x:78,  y:165},  // ë’·ì¢Œì„ ì™¼ìª½
      {key:'rearR',  x:162, y:165},  // ë’·ì¢Œì„ ì˜¤ë¥¸ìª½
    ];

    // ì„¸ë ¨ëœ ì €ì±„ë„ íŒ”ë ˆíŠ¸
    const carPalette = ['#8da9c4','#a3c4bc','#e6b8a2','#c3aed6','#b8c0ff','#b7e4c7','#f2d0a9','#9fd8df'];

    let teams = [];

    // ë°°ì§€ í¬ê¸°ë¥¼ ê³ ë ¤í•´ ì°¨ì°½(rect) ì•ˆìª½ìœ¼ë¡œ í´ë¨í”„
    function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }
    function fitBadgesInsideCar(svgBox){
      const margin = 6;
      // ì°½ ì‚¬ê°í˜•(px): <rect x="35" y="30" width="170" height="70">, <rect x="35" y="130" width="170" height="70">
      const front = { left:35, right:205, top:30, bottom:100, width:170 };
      const rear  = { left:35, right:205, top:130, bottom:200, width:170 };

      [...svgBox.querySelectorAll('.seat')].forEach((seat, idx) => {
        const badge = seat.querySelector('.badge');
        if(!badge) return;
        const w = badge.offsetWidth, h = badge.offsetHeight;
        const area = (idx <= 1) ? front : rear;

        // í˜„ì¬ left/topì€ ì¤‘ì‹¬ ì¢Œí‘œ(translate(-50%,-50%))
        const cx0 = parseFloat(seat.style.left);
        const cy0 = parseFloat(seat.style.top);

        const cx = clamp(cx0, area.left + margin + w/2,  area.right  - margin - w/2);
        const cy = clamp(cy0, area.top  + margin + h/2,  area.bottom - margin - h/2);

        seat.style.left = cx + 'px';
        seat.style.top  = cy + 'px';
      });
    }

    // --- PNG ì €ì¥ ì‹œ: ì´ë¦„ì´ ì•ˆ ì˜ë¦¬ë„ë¡ ì„ì‹œë¡œ ë°°ì§€ ë„ˆë¹„ í™•ëŒ€ í›„ ìº¡ì²˜ ---
    function prepareForExport(){
      const AREA_W = 170;              // ì°½ ë„ˆë¹„
      const MAX_W  = AREA_W - 12;      // ì¢Œìš° ì—¬ë°± ê°ì•ˆ(=158px)
      document.querySelectorAll('.car-wrap > div').forEach(svgBox=>{
        svgBox.querySelectorAll('.badge').forEach(b=>{
          b.dataset.prevMax = b.style.maxWidth || '';
          b.dataset.prevOverflow = b.style.textOverflow || '';
          b.style.maxWidth = MAX_W + 'px';      // ë§ì¤„ì„ í•´ì œìš© ë„“ì€ ìµœëŒ€ì¹˜
          b.style.textOverflow = 'clip';        // ... ì œê±°
        });
        fitBadgesInsideCar(svgBox);             // ìƒˆ ë„ˆë¹„ ê¸°ì¤€ìœ¼ë¡œ ì¬ë³´ì •
      });
    }
    function restoreAfterExport(){
      document.querySelectorAll('.car-wrap > div').forEach(svgBox=>{
        svgBox.querySelectorAll('.badge').forEach(b=>{
          b.style.maxWidth = b.dataset.prevMax || '';
          b.style.textOverflow = b.dataset.prevOverflow || '';
          delete b.dataset.prevMax; delete b.dataset.prevOverflow;
        });
        fitBadgesInsideCar(svgBox);
      });
    }

    function render(){
      $cards.innerHTML='';
      if(!teams.length){
        const empty = document.createElement('div');
        empty.className='muted';
        empty.style.textAlign='center'; empty.style.padding='60px 0';
        empty.innerHTML='ì´ë¦„ì„ ì‰¼í‘œë¡œ êµ¬ë¶„í•´ ì…ë ¥í•˜ê³  <b>ëœë¤ ì¡°í¸ì„±</b>ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”!';
        $cards.appendChild(empty);
        $btnSave.disabled = true; $btnCopy.disabled = true; return;
      }
      $btnSave.disabled = false; $btnCopy.disabled = false;

      teams.forEach((t, i)=>{
        const card=document.createElement('div'); card.className='card';
        const head=document.createElement('div'); head.className='card-head';
        head.innerHTML=`<div class="muted">${i+1}í˜¸ì°¨</div><div style="font-weight:700">${t.teamName}</div>`;
        const tiny=document.createElement('div'); tiny.className='tiny'; tiny.style.padding='0 12px'; tiny.textContent='ì¡°ì¥ì€ ìš´ì „ì„';
        const carWrap=document.createElement('div'); carWrap.className='car-wrap';
        const svgBox=document.createElement('div'); svgBox.style.position='relative'; svgBox.style.width='240px'; svgBox.style.height='230px'; svgBox.style.margin='0 auto';
        const color=carPalette[i%carPalette.length];

        // ìë™ì°¨ ë„í˜•
        const svg=`<svg width="240" height="230" viewBox="0 0 240 230">
            <defs>
              <linearGradient id="g${i}" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="${color}" stop-opacity="0.95"/>
                <stop offset="100%" stop-color="${color}" stop-opacity="0.75"/>
              </linearGradient>
            </defs>
            <g>
              <circle cx="30"  cy="40"  r="16" fill="#111827"/>
              <circle cx="210" cy="40"  r="16" fill="#111827"/>
              <circle cx="30"  cy="190" r="16" fill="#111827"/>
              <circle cx="210" cy="190" r="16" fill="#111827"/>

              <rect x="20" y="20" rx="24" ry="24" width="200" height="190" fill="url(#g${i})" stroke="#11182722"/>
              <rect x="35" y="30"  width="170" height="70"  rx="18" fill="#ffffffcc"/>
              <rect x="35" y="130" width="170" height="70"  rx="18" fill="#ffffffcc"/>

              <rect x="90" y="8" width="60" height="16" rx="4" fill="#e5e7eb" stroke="#9ca3af"/>
              <text x="120" y="20" text-anchor="middle" font-size="10" fill="#111827">${i+1}íŒ€</text>
            </g>
          </svg>`;
        svgBox.innerHTML = svg;

        // ì¢Œì„ ì´ë¦„ ë±ƒì§€
        const seats=[t.members[0],t.members[1],t.members[2],t.members[3]];
        seatLayout.forEach((s,idx)=>{
          const name = seats[idx]; if(!name) return; // 3ì¸ ì¡°ëŠ” í•˜ë‚˜ ë¹„ì›€
          const seat=document.createElement('div'); seat.className='seat'; seat.style.left=s.x+'px'; seat.style.top=s.y+'px';
          const badge=document.createElement('div'); badge.className='badge'+(idx===0?' driver':'');
          badge.innerHTML = (idx===0?`<span class="crown">ğŸ‘‘</span>`:'') + name;
          badge.title = name;
          seat.appendChild(badge); svgBox.appendChild(seat);
        });

        // DOM ê·¸ë¦° í›„ ì°½ ë‚´ë¶€ë¡œ ë³´ì •
        requestAnimationFrame(()=>fitBadgesInsideCar(svgBox));

        carWrap.appendChild(svgBox);
        const foot=document.createElement('div'); foot.className='foot';
        const left=document.createElement('div'); left.innerHTML=`ì¡°ì¥: <b>${t.leader}</b>`;
        const right=document.createElement('div');
        const btn=document.createElement('button'); btn.className='btn'; btn.textContent='ì¢Œì„ ë‹¤ì‹œ ë½‘ê¸°';
        btn.onclick=()=>{ const others=shuffle(t.members.slice(1)); t.members=[t.leader,...others]; render(); };
        right.appendChild(btn);
        foot.appendChild(left); foot.appendChild(right);

        card.appendChild(head); card.appendChild(tiny); card.appendChild(carWrap); card.appendChild(foot);
        $cards.appendChild(card);
      });
    }

    function updateCounts(){ $count.textContent = splitNames($names.value).length; }

    function make(){
      const names = splitNames($names.value); updateCounts();
      $error.style.display='none';
      if(names.length<3){ $error.style.display='block'; teams=[]; render(); return; }
      const g = makeGroups34(names);
      if(!g){ $error.style.display='block'; teams=[]; render(); return; }
      teams = pickLeaders(g);
      $titleOut.textContent = $titleIn.value.trim() || 'ëœë¤ ëŸ°ì¹˜';
      $meta.textContent = `ì´ ${names.length}ëª… Â· 3/4ì¸ ê¸°ì¤€ ${teams.length}ê°œ íŒ€`;
      render();
    }

    // íŒŒì¼ëª…: ëœë¤ëŸ°ì¹˜_ì œëª©.png (ì œëª©ì´ ì—†ìœ¼ë©´ 'ëœë¤ëŸ°ì¹˜.png')
    function sanitizedTitle(t){
      return t.replace(/[\\/:*?"<>|]/g,'-').trim();
    }
    function savePng(){
      const title  = sanitizedTitle($titleIn.value || '');
      const fname  = title ? `ëœë¤ëŸ°ì¹˜_${title}.png` : 'ëœë¤ëŸ°ì¹˜.png';

      prepareForExport(); // ë§ì¤„ì„ í•´ì œ & ì¬ë³´ì •
      // ë ˆì´ì•„ì›ƒ ì ìš© í›„ ìº¡ì²˜
      requestAnimationFrame(()=>{
        htmlToImage.toPng($capture,{pixelRatio:2.5,backgroundColor:'#ffffff'})
          .then(url=>{ const a=document.createElement('a'); a.href=url; a.download=fname; a.click(); })
          .catch(()=>alert('ì´ë¯¸ì§€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.'))
          .finally(()=>{ restoreAfterExport(); });
      });
    }

    function copyList(){
      if(!teams.length) return;
      const text = teams.map((t,i)=>`${i+1}íŒ€(${t.teamName}) - ì¡°ì¥:${t.leader} | ${t.members.join(', ')}`).join('\n');
      navigator.clipboard.writeText(text)
        .then(()=>alert('íŒ€ ëª…ë‹¨ì„ ë³µì‚¬í–ˆì–´ìš”!'))
        .catch(()=>alert('ë³µì‚¬ ì‹¤íŒ¨: ë¸Œë¼ìš°ì € ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”.'));
    }

    $btnMake.onclick = make;
    $btnSave.onclick = savePng;
    $btnCopy.onclick = copyList;
    $names.addEventListener('input', updateCounts);
    updateCounts();
  </script>
</body>
</html>
